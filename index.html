<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login ou Cadastro</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <h1>Login</h1>
    <div class="form-container">
        <div class="form-group">
            <label for="email">E-mail:</label>
            <input type="email" id="email" required>
        </div>
        <button onclick="login()">Entrar</button>
        <button onclick="redirecionarCadastro()">Cadastrar</button>
    </div>

    <script>
        // Função para realizar o login
        function login() {
            const email = document.getElementById('email').value;

            // Verificar se o e-mail foi preenchido
            if (!email) {
                alert('Por favor, insira seu e-mail.');
                return;
            }

            // Recuperar agendamentos do LocalStorage
            const agendamentos = JSON.parse(localStorage.getItem('agendamentos')) || [];

            // Verificar se o e-mail existe nos agendamentos (Cadastro/Login)
            const usuarioExiste = agendamentos.some(agendamento => agendamento.email === email);

            if (usuarioExiste) {
                // Usuário cadastrado, redireciona para a página de agendamento
                alert('Login bem-sucedido!');
                window.location.href = "trilha_do_quiz.html"; // Página de agendamento
            } else {
                alert('Usuário não cadastrado. Por favor, realize o cadastro.');
            }
        }

        // Função para redirecionar para a página de cadastro
        function redirecionarCadastro() {
            window.location.href = "cadastro.html"; // Página de cadastro
        }
    </script>
</body>
</html>